@model IEnumerable<Category>

<div class="container-fluid mt-3">

@if (ViewBag.EditId == null)
{
    <form asp-action="AddCategory" method="post">
        @Html.Partial("CategoryEditor", new Category())
    </form>
}
    <div class="row">
        <div class="col-1 font-weight-bold">#</div>
        <div class="col font-weight-bold">Название</div>
        <div class="col font-weight-bold">Описание</div>
        <div class="col-3"></div>
    </div>
@foreach (Category c in Model)
{
        @if (c.Id == ViewBag.EditId)
        {
        <form asp-action="UpdateCategory" method="post">
            <input type="hidden" name="Id" value="@c.Id" />
            <div asp-validation-summary="All"></div>
            @Html.Partial("CategoryEditor",c)
        </form>
    }
    else
    {
        <div class="row p-2">
            <div class="col-1">@c.Id</div>
            <div class="col">@c.Name</div>
            <div class="col">@c.Description</div>
            <div class="col-3">
            <form asp-action="DeleteCategory" method="post">
                <input type="hidden" name="Id" value="@c.Id" />
                        <a href="@Url.Action("EditCategory", new { id = c.Id })"
                           class="btn btn-outline-primary">
                            <i class="fa fa-pencil"></i>
                        </a>
                <button type="submit" class="btn btn-outline-danger">
                            <i class="fa fa-trash"></i>

                </button>
            </form>
        </div>
        </div>
            <hr class="border-top">

    }
}
</div>

